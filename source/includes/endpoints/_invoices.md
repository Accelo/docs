# Invoices
> Resource URI:  
`/api/v0/invoices`

These are invoices for any work done. See the [support documentation](https://www.accelo.com/resources/help/guides/user/modules/billing-and-invoices/invoices/) for more information on invoices.

## The Invoice Object
> Example invoice object:

```json
{
  "date_modified": "1493864641",
  "outstanding": "210.00",
  "tax": "10.00",
  "modified_by": "14",
  "creator_id": "14",
  "id": "75",
  "date_due": "1495074035",
  "currency_id": "0",
  "amount": "200.00",
  "contact": "98",
  "affiliation_id": "98",
  "owner_id": "14",
  "subject": "My Test Invoice",
  "notes": "Some Customer Description/Notes",
  "date_raised": "1493864435",
  "created_by": "14",
  "invoice_number": null,
  "affiliation": "98"
}
```

The invoice object contains the following:

| Field | Type | Description |
|:-|:-|:-|
| **id** | unsigned | A unique identifier for the invoice. |
| **amount** | decimal | The value of the invoice, less any tax. |
| subject | string | The title of the invoice |
| against_type | string | The object the invoice was created against. |
| against_id | unsigned | The unique identifier for the object the invoice was created against. |
| notes | string | Any notes made on the invoice. |
| invoice_number | integer | If the invoice has been pushed to an accounting system (e.g. Xero, Quickbooks Online, Saasu, etc.), then this will be the invoice number generated by this system. |
| currency_id | unsigned | The unique identifier for the currency used on the invoice. |
| owner_id | unsigned | The unique identifier for the staff member labeled as the owner on the deployment. |
| tax | decimal | The value of any tax on the invoice. |
| outstanding | decimal | The value of the invoice left unpaid, including taxes. |
| modified_by | unsigned | The unique identifier of the staff member who last modified the invoice. |
| date_raised | unix ts | The date the invoice was raised. |
| date_due | unix ts | The date the invoice is due. |
| date_modified | unix ts | The date the invoice was last modified. |
| contact | unsigned or object | The contact to whom the invoice is to be billed.|
| affiliation_id | unsigned | The unique identifier for the affiliation the invoice is raised against. |
| affiliation | unsigned or object | The affiliation against whom the invoice is raised. |
| creator_id | unsigned | The unique identifier for the staff member who created the deployment. |
| created_by | unsigned or object | The staff member who created the invoice. |

### The Line Item (Beta)
> Example line item:

```json
{
	"id": "42",
	"quantity": "1.000000",
	"ordering": "0",
	"type": "service",
	"tax": "2730.00",
	"invoice_line_item_ledger": "6",
	"ledger_id": "6",
	"tax_id": "1",
	"invoice_line_item_tax": "1",
	"description": "The initial kick-off, 40% of total cost",
	"rate": "27300.000000",
	"invoice_id": "5736",
	"total": "30030"
}
```

Each line in an invoice is described by a line item object. This object contains the following:


| Field | Type | Description |
|:-|:-|:-|
| **id** | unsigned | A unique identifer for the line item. |
| **type** | select | The type of the item, either "material", "service", or "expense".|
| **quantity** | decimal | The quantity of the item to be invoiced. |
| **rate** | decimal | The price charged per unit of the item.|
| **total** | decimal | The total price for the line, including tax.|
| tax | decimal | The value of tax on the line item. |
| invoice_id | unsigned | The unique identifier of the invoice the line is part of. |
| ledger_id | unsigned | The unique identifier of the [ledger](#ledgers) the invoice item is attached to. |
| tax_id | unsigned | The unique identifier for the [tax](#taxes) associated with the item. |
| description | string | A description of the invoice line. |
| ordering | unsigned | The order the line is displayed on the invoice. |
| line_item_ledger | unsigned or object | The [ledger](#ledgers) the invoice item is attached to. |
| line_item_tax | unsigned or object | The [tax code](#taxes) associated with the invoice item. |




## Get Invoice
> Sample Request:

```http
GET /api/v0/invoices/{invoice_id} HTTP/1.1
HOST: {deployment}.api.accelo.com
Authorization: Bearer {access_token}
```

```shell
curl -X get \ 
 https://{deployment}.api.accelo.com/api/v0/invoices/{invoice_id} \
  -H 'authorization: Bearer {access_token}'
```

`GET /invoices/{invoice_id}`

This request returns a single [invoice](#the-invoice-object), specified by its `invoice_id`.

### Configuring the Response
This request supports requesting additional fields and linked objects from the [invoice object](#the-invoice-object) using the [`_fields`](#configuring-the-response-fields) parameter.

### Handling the Response
The response will be the single requested [invoice](#the-invoice-object) with its default fields and any additional fields requested through `_fields`.







## List Invoices
> Sample Request:

```http
GET /api/v0/invoices HTTP/1.1
HOST: {deployment}.api.accelo.com
Authorization: Bearer {access_token}
```

```shell
curl -X get \ 
 https://{deployment}.api.accelo.com/api/v0/invoices \
  -H 'authorization: Bearer {access_token}'
```

`GET /invoices`

This request returns a list of [invoices](#the-invoice-object) on the deployment.

### Configuring the Request

#### Pagination
This request accepts all the standard [pagination](#configuring-the-response-pagination) parameters.

#### Additional Fields and Linked Objects
This request supports requesting additional fields and linked objects using the [`_fields`](#configuring-the-response-fields) parameter.

#### Basic Filters
This request supports [basic filters](#filters-basic-filters) over the following fields:

| Filter Name |
|:-|
| id |
| invoice_number |

#### Date Filters
This request supports [date filters](#filters-date-filters) over the following fields:

| Filter Name |
|:-|
| date_raised |
| date_due |
| date_modified |

#### Order Filters
This request supports [order filters](#filters-order-filters) over the following fields:

| Filter Name |
|:-|
| id |
| date_raised |
| date_due |
| date_modified |

#### Range Filters
This request supports [range filters](#filters-range-filters) over the following fields:

| Filter Name | Notes |
|:-|:-|
| id ||
| amount ||
| tax ||
| outstanding ||
| created_by | Range by the `staff_id` of the creator. |
| affiliation | Range by `affiliation_id`. |
| modified_by | Range by the `staff_id` of the person to last modify the invoice.|

#### Searching
This request supports the [`_search`](#configuring-the-response-searching) paramter to search over the following fields:

| Filter Name |
|:-|
| subject |
| invoice_number |

### handling the Response
The response will be a list of [invoices](#the-invoice-object) on the Deployment, with their default fields and any additional fields requested through `_fields`, and displayed according to any pagination parameters, filters, or searches used.






## Count Invoices
> Sample Request:

```http
GET /api/v0/invoices/count HTTP/1.1
HOST: {deployment}.api.accelo.com
Authorization: Bearer {access_token}
```

```shell
curl -X get \ 
 https://{deployment}.api.accelo.com/api/v0/invoices/count \
  -H 'authorization: Bearer {access_token}'
```

`GET /invoices/count`

This request will return a count of invoices in a list defined by any available searches or filters. With no searches or filters this will be a count of all invoices on the deployment. This request returns a single field:

| Field | Type | Description |
|:-|:-|:-|
| **count** | unsigned | A count of invoices listed. |





## Get Line Item (Beta)
> Sample Request:

```http
GET /api/v0/invoices/line_items/{line_item_id} HTTP/1.1
HOST: {deployment}.api.accelo.com
Authorization: Bearer {access_token}
```

```shell
curl -X GET \
  https://{deployment}.api.accelo.com/api/v0/invoices/line_items/{line_item_id} \
  -H 'authorization: Bearer {access_token}'
```

`GET /invoices/line_items/{line_item_id}`

This request returns a [line item](#the-line-item-beta) specified by its `line_item_id.

### Configuring the Response
This request supports requesting additional fields and linked objects from the [line item object](#the-line-item-beta) using the [`_fields`](#configuring-the-response-fields) parameter.

### Handling the Response
The request will return the single invoice line item with its default fields and any additional fields requested through `_fields`.






## List Line Items (Beta)
> Sample request:

```http
GET /api/v0/invoices/line_items/ HTTP/1.1
HOST: {deployment}.api.accelo.com
Authorization: Bearer {access_token}
```

```shell
curl -X GET \
  https://{deployment}.api.accelo.com/api/v0/invoices/line_items \
  -H 'authorization: Bearer {access_token}'
```

This request returns a list of [invoice line item](#the-line-item-beta).

### Configuring the Response

#### Pagination
This request supports all of the standard [pagination parameters](#configuring-the-response-pagination)

#### Additional Fields and Linked objects
This request supports requesting additional fields and linked objects from the [line item object](#the-line-item-beta) using the [`_fields`](#configuring-the-response-fields) parameter.

#### Basic Filters
This request supports the following [basic filters](#filters-basic-filters):

| Filter |
|:-|
| id |
| invoice_id |
| ledger_id |
| tax_id |

#### Order Filters
This request supports the following [order filters](#filters-order-filters):

| Filter |
|:-|
| id |
| invoice_id |
| ledger_id |
| tax_id |
| quantity |
| rate |
| total |
| ordering |

#### Range Filters
This request supports [range filters](#filters-range-filters) over the following fields:

| Filter |
|:-|
| id |
| invoice_id |
| ledger_id |
| tax_id |
| quantity |
| rate |
| total |

#### Searching
This request supports the [`_search`](#configuring-the-response-searching) parameter to search over the following fields:

| Field |
|:-|
| description |

### Handling the Response
The response will contain a list of invoice line items with their default fields and any additional fields requested through `_fields`, and displayed according to any pagination parameters, filters, or searches used.






## Count Line Items (Beta)
> Sample request:

```http
GET /api/v0/invoices/line_items/count HTTP/1.1
HOST: {deployment}.api.accelo.com
Authorization: Bearer {access_token}
```

```shell
curl -X GET \
  https://{deployment}.api.accelo.com/api/v0/invoices/line_items/count \
  -H 'authorization: Bearer {access_token}'
```

`GET /invoices/line_items/count`

This request will return a count of line items in a list defined by any available searches or filters. With no searches or filters this will be a count of all line items on the deployment. This request returns a single field:

| Field | Type | Description |
|:-|:-|:-|
| **count** | unsigned | A count of line items listed. |